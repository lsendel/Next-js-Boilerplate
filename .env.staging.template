# ============================================================================
# STAGING ENVIRONMENT CONFIGURATION
# ============================================================================
#
# Purpose: Pre-production testing environment
# - Should mirror production as closely as possible
# - Use separate database and services from production
# - Safe environment for testing deployments
#
# Sprint 3 Optimizations: Same as production (29.7% bundle reduction)
# ============================================================================

NODE_ENV=production  # Use production mode for realistic testing
NEXT_PUBLIC_APP_URL=https://staging.your-domain.com

# ============================================================================
# Database - Staging Database (Separate from Production!)
# ============================================================================

DATABASE_URL=postgresql://user:password@staging-db-host:5432/staging_database
# Use separate database instance for staging
# Can use smaller instance type than production to save costs

# ============================================================================
# Authentication - Staging Keys (NOT Production Keys!)
# ============================================================================

NEXT_PUBLIC_AUTH_PROVIDER=clerk  # or cloudflare, cognito

# Clerk Staging
CLERK_SECRET_KEY=sk_test_STAGING_CLERK_SECRET_KEY
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_STAGING_CLERK_KEY
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# ============================================================================
# Security - Staging Keys (Different from Production!)
# ============================================================================

PASSWORD_PEPPER=STAGING_PASSWORD_PEPPER_32_CHARS_UNIQUE
ENCRYPTION_KEY=STAGING_ENCRYPTION_KEY_32_CHARS_UNIQUE
SECURITY_ALERT_WEBHOOK=https://hooks.slack.com/services/YOUR/STAGING/WEBHOOK
ARCJET_KEY=ajkey_STAGING_ARCJET_KEY
ARCJET_ENV=staging

# ============================================================================
# Monitoring - Staging Projects (Separate from Production)
# ============================================================================

# Sentry Staging Project
NEXT_PUBLIC_SENTRY_DSN=https://STAGING_SENTRY_DSN@sentry.io/STAGING_PROJECT_ID
SENTRY_ORGANIZATION=your-org
SENTRY_PROJECT=your-project-staging
SENTRY_AUTH_TOKEN=STAGING_SENTRY_AUTH_TOKEN

# PostHog Staging
NEXT_PUBLIC_POSTHOG_KEY=phc_STAGING_POSTHOG_KEY
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# BetterStack Staging
NEXT_PUBLIC_BETTER_STACK_SOURCE_TOKEN=STAGING_BETTERSTACK_TOKEN
NEXT_PUBLIC_BETTER_STACK_INGESTING_HOST=https://in.logs.betterstack.com

# ============================================================================
# Optional Services - Staging
# ============================================================================

# Email (can use test mode or separate account)
# RESEND_API_KEY=re_STAGING_RESEND_KEY

# Redis (optional - can share with production or use separate instance)
# REDIS_URL=redis://staging-redis:6379

# Storage (separate bucket from production)
# AWS_S3_BUCKET=your-staging-bucket

# ============================================================================
# Build Configuration
# ============================================================================

NEXT_TELEMETRY_DISABLED=1
GENERATE_SOURCEMAP=true  # Enable for easier debugging in staging
ANALYZE=false

# ============================================================================
# Staging-Specific Notes
# ============================================================================
#
# Staging Best Practices:
#
# 1. Use separate services for staging (database, redis, etc.)
# 2. Can use lower-tier instances to save costs
# 3. Test production deployment procedures in staging first
# 4. Enable source maps for easier debugging
# 5. Use staging-specific auth credentials
# 6. Monitor staging with same tools as production
# 7. Regularly sync staging data from production (sanitized!)
# 8. Test database migrations in staging before production
# 9. Use staging for QA and acceptance testing
# 10. Can have relaxed rate limits for testing
#
# Cost Optimization for Staging:
# - Use smaller database instance (db.t3.micro vs db.t3.large)
# - Use smaller Redis instance
# - Can use free tiers where available
# - Shut down staging during off-hours if needed
#
# ============================================================================
